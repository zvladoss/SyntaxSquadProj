// import projectsData from '../json/projects.json';
// import { projData } from './projects.js';

const projData = [
  {
    title: 'Wallet webservice',
    subtitle: 'React, JavaScript, Node JS, Git',
    url: '',
    imgUrls: {
      mob1x: '/img/05-my-projects/mob-wallet-1x.webp',
      mob2x: '/img/05-my-projects/mob-wallet-2x.webp',
      tab1x: '/img/05-my-projects/tab-wallet-1x.webp',
      tab2x: '/img/05-my-projects/tab-wallet-2x.webp',
      desk1x: '/img/05-my-projects/desk-wallet-1x.webp',
      desk2x: '/img/05-my-projects/desk-wallet-2x.webp',
    },
  },
  {
    title: 'Green harvest webservice',
    subtitle: 'React, JavaScript, Node JS, Git',
    url: '',
    imgUrls: {
      mob1x: '/img/05-my-projects/mob-green-harvest-1x.webp',
      mob2x: '/img/05-my-projects/mob-green-harvest-2x.webp',
      tab1x: '/img/05-my-projects/tab-green-harvest-1x.webp',
      tab2x: '/img/05-my-projects/tab-green-harvest-2x.webp',
      desk1x: '/img/05-my-projects/desk-green-harvest-1x.webp',
      desk2x: '/img/05-my-projects/desk-green-harvest-2x.webp',
    },
  },
  {
    title: 'English Exellence webservice',
    subtitle: 'React, JavaScript, Node JS, Git',
    url: '',
    imgUrls: {
      mob1x: '/img/05-my-projects/mob-english-excellence-1x.webp',
      mob2x: '/img/05-my-projects/mob-english-excellence-2x.webp',
      tab1x: '/img/05-my-projects/tab-english-excellence-1x.webp',
      tab2x: '/img/05-my-projects/tab-english-excellence-2x.webp',
      desk1x: '/img/05-my-projects/desk-english-excellence-1x.webp',
      desk2x: '/img/05-my-projects/desk-english-excellence-2x.webp',
    },
  },
  {
    title: 'power pulse webservice',
    subtitle: 'React, JavaScript, Node JS, Git',
    url: '',
    imgUrls: {
      mob1x: '/img/05-my-projects/mob-power-pulse-1x.webp',
      mob2x: '/img/05-my-projects/mob-power-pulse-2x.webp',
      tab1x: '/img/05-my-projects/tab-power-pulse-1x.webp',
      tab2x: '/img/05-my-projects/tab-power-pulse-2x.webp',
      desk1x: '/img/05-my-projects/desk-power-pulse-1x.webp',
      desk2x: '/img/05-my-projects/desk-power-pulse-2x.webp',
    },
  },
  {
    title: 'mimino website',
    subtitle: 'React, JavaScript, Node JS, Git',
    url: '',
    imgUrls: {
      mob1x: '/img/05-my-projects/mob-mimino-1x.webp',
      mob2x: '/img/05-my-projects/mob-mimino-2x.webp',
      tab1x: '/img/05-my-projects/tab-mimino-1x.webp',
      tab2x: '/img/05-my-projects/tab-mimino-2x.webp',
      desk1x: '/img/05-my-projects/desk-mimino-1x.webp',
      desk2x: '/img/05-my-projects/desk-mimino-2x.webp',
    },
  },
  {
    title: 'vyshyvanka vibes Landing Page',
    subtitle: 'React, JavaScript, Node JS, Git',
    url: '',
    imgUrls: {
      mob1x: '/img/05-my-projects/mob-vyshyvanka-1x.webp',
      mob2x: '/img/05-my-projects/mob-vyshyvanka-2x.webp',
      tab1x: '/img/05-my-projects/tab-vyshyvanka-1x.webp',
      tab2x: '/img/05-my-projects/tab-vyshyvanka-2x.webp',
      desk1x: '/img/05-my-projects/desk-vyshyvanka-1x.webp',
      desk2x: '/img/05-my-projects/desk-vyshyvanka-2x.webp',
    },
  },
  {
    title: 'chego jewelry website',
    subtitle: 'React, JavaScript, Node JS, Git',
    url: '',
    imgUrls: {
      mob1x: '/img/05-my-projects/mob-chego-jewely-1x.webp',
      mob2x: '/img/05-my-projects/mob-chego-jewely-2x.webp',
      tab1x: '/img/05-my-projects/tab-chego-jewely-1x.webp',
      tab2x: '/img/05-my-projects/tab-chego-jewely-2x.webp',
      desk1x: '/img/05-my-projects/desk-chego-jewelry-1x.webp',
      desk2x: '/img/05-my-projects/desk-chego-jewelry-2x.webp',
    },
  },
  {
    title: 'energy flow webservice ',
    subtitle: 'React, JavaScript, Node JS, Git',
    url: '',
    imgUrls: {
      mob1x: '/img/05-my-projects/mob-energy-flow-1x.webp',
      mob2x: '/img/05-my-projects/mob-energy-flow-2x.webp',
      tab1x: '/img/05-my-projects/tab-energy-flow-1x.webp',
      tab2x: '/img/05-my-projects/tab-energy-flow-2x.webp',
      desk1x: '/img/05-my-projects/desk-energy-flow-1x.webp',
      desk2x: '/img/05-my-projects/desk-energy-flow-2x.webp',
    },
  },
  {
    title: 'fruitbox online store',
    subtitle: 'React, JavaScript, Node JS, Git',
    url: '',
    imgUrls: {
      mob1x: '/img/05-my-projects/mob-fruitbox-1x.webp',
      mob2x: '/img/05-my-projects/mob-fruitbox-2x.webp',
      tab1x: '/img/05-my-projects/tab-fruitbox-1x.webp',
      tab2x: '/img/05-my-projects/tab-fruitbox-2x.webp',
      desk1x: '/img/05-my-projects/desk-fruitbox-1x.webp',
      desk2x: '/img/05-my-projects/desk-fruitbox-2x.webp',
    },
  },
  {
    title: 'starlight studio landing page',
    subtitle: 'React, JavaScript, Node JS, Git',
    url: '',
    imgUrls: {
      mob1x: '/img/05-my-projects/mob-starlight-studio-1x.webp',
      mob2x: '/img/05-my-projects/mob-starlight-studio-2x.webp',
      tab1x: '/img/05-my-projects/tab-starlight-studio-1x.webp',
      tab2x: '/img/05-my-projects/tab-starlight-studio-2x.webp',
      desk1x: '/img/05-my-projects/desk-starlight-studio-1x.webp',
      desk2x: '/img/05-my-projects/desk-starlight-studio-2x.webp',
    },
  },
];

const projGallery = document.querySelector('.projects-list');
const loadMoreBtn = document.querySelector('.load-more-btn');
let startIndex = 0;
let projectsPerPage = 3;
const createProjCardElem = ({
  title,
  subtitle,
  url,
  imgUrls: { mob1x, mob2x, tab1x, tab2x, desk1x, desk2x },
}) => {
  return `
  <li class="my-projects-item">
  <picture>
    
    <source type="image/webp" srcset="${desk1x} 1x, ${desk2x} 2x" media="(min-width: 1280px)" />
    <source type="image/webp" srcset="${tab1x} 1x, ${tab2x} 2x" media="(min-width: 768px)" />
    <source type="image/webp" srcset="${mob1x} 1x, ${mob2x} 2x" media="(min-width: 320px)" />
    <img class="my-projects-img" src="${desk1x}" alt="${title}"/>
  </picture>
  <p class="my-projects-subtitle">${subtitle}</p>
  <h3 class="my-projects-title">${title}</h3>
  <a class="my-projects-link" href="${url}">Visit
    <span>
      <svg class="visit-us-svg" width="24" height="24">
        <use href="/img/sprite.svg#icon-Arrow-up-right"></use>
      </svg>
    </span>
  </a>
</li>
  `;
};

const addGalleryItem = () => {
  const endIndex = startIndex + projectsPerPage;

  const currentProjects = projData.slice(startIndex, endIndex);
  projGallery.insertAdjacentHTML(
    'beforeend',
    currentProjects.map(createProjCardElem).join('')
  );
  startIndex = endIndex;
  if (startIndex >= projData.length) {
    loadMoreBtn.style.display = 'none';
  }
};
addGalleryItem();

loadMoreBtn.addEventListener('click', addGalleryItem);

/* <li class="my-projects-item">
  <img class="my-projects-img" src="" alt="" />
  <p class="my-projects-subtitle"></p>
  <h3 class="my-projects-title"></h3>
  <a class="my-projects-link" href=""></a>
</li> */
